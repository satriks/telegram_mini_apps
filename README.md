# Mini Apps для телеграм бота 

 - game - фронтенд игра на js 
 - server - бекенд с бд для игры
 - bot - бот для телеграм

## Игра

   Упарвляя желтыми гроями пройти 4 уровня. 

Есть 3 типа героев: 
 - воин - ходит 4 клетки, атака 1 клетка.
 - лучник - ходит 2 клетки, атака 2 клетки.
 - маг - ходит 1 клетки, атака 4 клетки.

Герои могут быть 1-4 лвл. После прохождения уровня герой получает + 1 лвл до 4 лвл. 
И немного лечатся. Противник ходит автоматически. При закрытии приложения игра продолжится с последнего хода. 

## Запуск проекта
Для запуска проета потребуется сервер с доменом и подключенным сертификатом https


0. Подготовить сервер
1. Установить в game/src/js/api.js:axios.defaults.baseURL = "https://Адрес_приложения.ru/game/"
2. Собрать проект game:
    * npn install - установить все модули 
    * npm run build - собрать проект
3. Перенести из папки dist:
    * index.html  => server/templates
    * все остальные файлы  => server/static/game
4. Подготовить БД postgres на сервере. Создать БД -game, Пользователя - gamemaster, Пароль - play (Если устанавливаются какие любо другие значения, изменить их в server/server/settings.py:DATABASES )
5. Отправить проект на сервер и запустить его там. 
6. Подготовка бота:
    * Создать бота => @BotFather
    * Разрешить в настройках mini apps
7. В папке bot в файл env-example внести токен бота и адрес mini apps.
8. Создать виртуальное окружение, установить зависимости.
9. Запустить бота 